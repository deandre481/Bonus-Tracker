<!-- templates/signup.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sign Up</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-5">
  <h2>Sign Up</h2>
  <form method="POST">
    <div class="form-group">
      <label>Name</label>
      <input type="text" name="name" class="form-control" required>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input type="email" name="email" class="form-control" required>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input type="password" name="password" class="form-control" required>
    </div>
    <div class="form-group">
      <label>Role</label>
      <select name="role" class="form-control" id="roleSelect" required onchange="toggleAdminDropdown()">
        <option value="">Select Role</option>
        <option value="admin">Admin</option>
        <option value="student">Student</option>
      </select>
    </div>
    <div class="form-group" id="adminDropdown" style="display: none;">
      <label>Assign Admin</label>
      <select name="assigned_admin" class="form-control">
        <option value="">Select Admin</option>
        {% for admin in admins %}
        <option value="{{ admin.id }}">{{ admin.name }} ({{ admin.email }})</option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="btn btn-primary">Sign Up</button>
    <a href="{{ url_for('login') }}">Already have an account? Log In</a>
  </form>
</div>
<script>
function toggleAdminDropdown() {
    var role = document.getElementById('roleSelect').value;
    var dropdown = document.getElementById('adminDropdown');
    dropdown.style.display = (role === 'student') ? 'block' : 'none';
}
</script>
</body>
</html>
